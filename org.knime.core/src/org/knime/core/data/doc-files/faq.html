<!--
===================================================================================
 * This source code, its documentation and all appendant files
 * are protected by copyright law. All rights reserved.
 *
 * Copyright, 2003 - 2006
 * University of Konstanz, Germany.
 * Chair for Bioinformatics and Information Mining
 * Prof. Dr. Michael R. Berthold
 *
 * You may not modify, publish, transmit, transfer or sell, reproduce,
 * create derivative works from, distribute, perform, display, or in
 * any way exploit any of the content, in whole or in part, except as
 * otherwise expressly permitted in writing by the copyright owner or
 * as specified in the license file distributed with this product.
 *
 * If you have any questions please contact the copyright holder:
 * website: www.knime.org
 * email: contact@knime.org
===================================================================================
-->
<HTML>
<BODY>
<OL>
	<LI><P><STRONG>What's a DataCell?</STRONG><BR>
	A <A HREF="../DataCell.html">DataCell</A> is
	a container for a single entity. There are many different
	implementations of DataCell, for instance <A HREF="../def/StringCell.html">StringCell</A>,
	<A HREF="../def/DoubleCell.html">DoubleCell</A>,
	<A HREF="../def/IntCell.html">IntCell</A>.
	DataCells are contained in a <A HREF="../DataTable.html">DataTable</A>.
	They implement different DataValue interfaces and are associated to
	a DataType (see both descriptions below). 
	</P>
	
	<LI><P><STRONG>What's a DataValue?</STRONG><BR>
	A <A HREF="../DataValue.html">DataValue</A>
	is an interface describing the content of a DataCell. (For example,
	how to access the generic java-double from it.) It also brings along
	meta information such as renderers and a comparator which is
	accessed statically using reflection through a singleton called
	<A HREF="../DataValue.UtilityFactory.html">UTILITY</A>.
	</P>
	
	<LI><P><STRONG>What's a DataType?</STRONG><BR>
	A <A HREF="../DataType.html">DataType</A>
	comprises the meta-information to a DataCell implementation such as
	a compatibility list (what DataValues can I cast the cells to),
	available renderers, comparators and so on. The DataType is a
	property of a <A HREF="../DataColumnSpec.html">DataColumnSpec</A>
	and is therefore available to configure() time (i.e. when you set
	the properties in the dialog but no data is available from the
	predecessing nodes).</P>
	
	<LI><P><STRONG>How do I determine the DataType of a DataCell implementation?</STRONG><BR>
	Use <A HREF="../DataCell.html#getType()">DataCell#getType()</A>
	– it is shortcut for <A HREF="../DataType.html#getType(java.lang.Class)">DataType.getType(SomeDataCell.class)</A>.
	Note that a DataCell instance does not carry a reference to its
	DataType but rather it determines the type through its runtime class
	(realized by a HashMap in DataType which maps DataCell classes to
	DataType).</P>
	
	<LI><P><STRONG>I want to create a new column for a DataTable and need to set the column's DataType. How do
	I do this?</STRONG><BR>
	You	need to know what DataCell instances you add to the column. For
	instance, if you only add DoubleCell objects, set the type as
	DataType.getType(DoubleCell.class). (Note all default cell
	implementations provide a singleton for exactly this purpose, e.g.
	<A HREF="../def/DoubleCell.html#TYPE">DoubleCell.TYPE</A>).
	You can mess up with KNIME if you set the wrong DataType in the
	column spec – be patient!</P>
	
	<LI><P><STRONG>I don't know what cells I'm going to add to the new column. How do I set the DataType of the
	column?</STRONG><BR>
	This should be a really really rare case! One example may be when you
	transpose a table and need to determine the most general type for
	all cells in a table's row. Anyway:<BR>
	You need to scan all cells you will add and compute the most general
	DataType. This type may not be associated with any real DataCell
	implementation but it will be valid for all DataCells that are
	contained in the column. Use the static method
	DataType#getCommonSuperType(DataType, DataType) in the class
	DataType. You need to call this method iteratively, for instance:
	</P>
	<PRE>                DataCell[] allCells = ...;
                DataType type = allCells[0].getType()
                for (int i = 1; i &lt; allCells.length; i++) {
                  type = DataType.getCommonSuperType(type, allCells[i].getType());
                }
                // &quot;type&quot; will be the most specific super type of all.</PRE>
                
	<LI><P><STRONG>How about missing cells?</STRONG><BR>
	The term “missing cell” does not really mean that there is
	no cell but simply that the cell at hand represents an unknown
	value. As a missing cell does not have any content, there is a
	singleton to use in case you want to represent such a missing
	entity. It is available through <A HREF="../DataType.html#getMissingCell()">DataType.getMissingCell()</A>.
	This singleton's type is a special type, which is compatible to all
	DataValue interfaces you can think of. If you invoke
	<A HREF="../DataType.html#isCompatible(java.lang.Class)">isCompatible(...)</A>
	on this type, it will always return true. However trying to cast
	this missing cell to any DataValue will fail. Be advised to always
	check a cell's isMissing() value before typecasting it.</P>
	
	<LI><P><STRONG>When can I safely typecast a DataCell to a specific DataValue.</STRONG><BR>
	There are two constraints: (1) The cell must not represent a missing
	value, i.e. <A HREF="../DataCell.html#isMissing()">cell.isMissing()
	</A>evaluates to false and (2) the cell's type allows you to do so,
	i.e. <A HREF="../DataType.html#isCompatible(java.lang.Class)">type.isCompatible(SomeDataValue.class)</A>
	returns true. The second constraint also holds for the column type
	in which the cell is contained in. Thus, you need to check once if
	the DataType as given by the DataColumnSpec is compatible to the
	DataValue interface of interest and if so, you can safely cast any
	DataCell from that column to the given DataValue – unless they represent a 
	missing value.
	
	<LI><P><STRONG>Are all cells in a data table column of the same type?</STRONG> <BR>
	Not necessarily. All you can assume is that each DataValue interface for which the column's
	type returns true on isCompatible(SomeDataValue.class), is
	implemented by all of the cells in the column unless they represent
	a missing value.</P>
	
	<LI><P><STRONG>How do I implement support for a completely new kind of data type?</STRONG><BR>
	See our <A HREF="newtypes.html#newtypes">manual</A> for that.</P>
</OL>
</BODY>
</HTML>
