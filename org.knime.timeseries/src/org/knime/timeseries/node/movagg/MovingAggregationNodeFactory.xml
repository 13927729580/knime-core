<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE knimeNode PUBLIC "-//UNIKN//DTD KNIME Node 2.0//EN" "http://www.knime.org/Node.dtd">
<knimeNode type="Manipulator" icon="moving_aggr.png">
    <name>Moving Aggregation</name>
    <shortDescription>Adds a column with moving average values.</shortDescription>
    <fullDescription>
        <intro>
            This node calculates aggregation values for a moving window.
            The aggregation values are displayed in new columns appended 
            at the end of the table.
        </intro>
        <tab name="General settings">
            <option name="Window length"> The number of samples to include in 
            the moving window. Minimum value: 2 samples. Maximum Value: Time Series length.
            </option>
            <option name="Resolve missing values in the beginning">
                If selected the aggregation values of the first rows until the time window is full, 
                are computed based on the data rows visited so far.
            </option>
            <option name = "Remove aggregation columns">
              If selected the columns used to aggregate are filtered from the output table.
            </option>
            <option name = "Remove retained columns">
              If selected the columns that are not aggregate are filtered from the output table.
            </option>
        </tab>
        
        <tab name="Aggregation settings">
            <option name="Available columns">
                Select one or more column(s) for aggregation from the available 
                columns list. Change the aggregation method in the Aggregation 
                column of the table. You can add the same column multiple
                times. In order to change the aggregation method of more than one 
                column select all columns to change, open the context menu with a 
                right mouse click and select the aggregation method to use.
                Tick the missing box to include missing values. This option might
                be disabled if the aggregation method does not support missing
                values.
                The parameter column shows an "Edit" button for all 
                aggregation operators that require additional information. 
                Clicking on the "Edit" button opens the parameter dialog 
                which allows changing the operator specific settings.
            </option>
            <option name="Maximum unique values per group">
                Defines the maximum number of unique values per group to avoid 
                problems with memory overloading. All groups with more unique
                values are skipped during the calculation and a missing value is set 
                in the corresponding column, and a warning is displayed.
            </option>
            <option name="Value delimiter">
                The value delimiter used by aggregation methods such as concatenate. 
            </option>
            <option name="Column naming">
                The name of the resulting aggregation column(s) depends on the 
                selected naming schema.
                <ul>
                    <li>Keep original name(s):
                    Keeps the original column names.
                    Note that you can use all aggregation columns only once with 
                    this column naming option to prevent duplicate column names.
                    </li>
                    <li>Aggregation method (column name): 
                    Uses the aggregation method first and appends the column name
                    in brackets
                    </li>
                    <li>Column name (aggregation method):
                    Uses the column name first and appends the aggregation method
                    in brackets
                    </li>
                </ul>
                All aggregation methods get a * appended if the missing value option 
                is not ticked in the aggregation settings in order to distinguish
                between columns that considered missing values in the aggregation
                process and columns that do not.
            </option>
        </tab>
    </fullDescription>
    <ports>
        <inPort index="0" name="Input column">
        Table containing time series.</inPort>
        <outPort index="0" name="Moving average values">
        Table with columns holding aggregation values.</outPort>
    </ports>
</knimeNode>